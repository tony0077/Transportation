{"remainingRequest":"D:\\Ê°åÈù¢Êñá‰ª∂\\logistics-master\\logistics-master\\web-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Ê°åÈù¢Êñá‰ª∂\\logistics-master\\logistics-master\\web-app\\src\\views\\system\\Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Ê°åÈù¢Êñá‰ª∂\\logistics-master\\logistics-master\\web-app\\src\\views\\system\\Admin.vue","mtime":1620229219000},{"path":"D:\\Ê°åÈù¢Êñá‰ª∂\\logistics-master\\logistics-master\\web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686845412424},{"path":"D:\\Ê°åÈù¢Êñá‰ª∂\\logistics-master\\logistics-master\\web-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1686845393772}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7RGVsZXRlQWRtaW4sIEZpbmRBbGxBZG1pbiwgU2F2ZUFkbWlufSBmcm9tICIuLi8uLi9hcGkvYWRtaW4iOwppbXBvcnQge0ZpbmRBbGxSb2xlfSBmcm9tICIuLi8uLi9hcGkvcm9sZSI7Cgpjb25zdCBjb2x1bW5zID0gWwogIHsKICAgIGRhdGFJbmRleDogJ2VtYWlsJywKICAgIGtleTogJ2VtYWlsJywKICAgIHNsb3RzOiB7dGl0bGU6ICdjdXN0b21UaXRsZSd9LAogICAgc2NvcGVkU2xvdHM6IHtjdXN0b21SZW5kZXI6ICdlbWFpbCd9LAogIH0sCiAgewogICAgdGl0bGU6ICflr4bnoIEnLAogICAgZGF0YUluZGV4OiAncGFzc3dvcmQnLAogICAga2V5OiAncGFzc3dvcmQnLAogIH0sCiAgewogICAgdGl0bGU6ICfmnYPpmZAnLAogICAgZGF0YUluZGV4OiAncm9sZXMnLAogICAga2V5OiAncm9sZXMnLAogIH0sCiAgewogICAgdGl0bGU6ICfmt7vliqDml6XmnJ8nLAogICAga2V5OiAnY3JlYXRlQXQnLAogICAgZGF0YUluZGV4OiAnY3JlYXRlQXQnLAogICAgc2NvcGVkU2xvdHM6IHtjdXN0b21SZW5kZXI6ICdjcmVhdGVBdCd9LAogIH0sCiAgewogICAgdGl0bGU6ICdBY3Rpb24nLAogICAga2V5OiAnYWN0aW9uJywKICAgIHNjb3BlZFNsb3RzOiB7Y3VzdG9tUmVuZGVyOiAnYWN0aW9uJ30sCiAgfSwKXTsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm9sZXM6IFtdLAogICAgICBzZWxlY3RSb2xlczogW10sCiAgICAgIGFkbWluczogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBhZGRWaXNpYmxlOiBmYWxzZSwKICAgICAgZW1haWxWaXNpYmxlOiBmYWxzZSwKICAgICAgcGFzc3dvcmRWaXNpYmxlOiBmYWxzZSwKICAgICAgcm9sZXNWaXNpYmxlOiBmYWxzZSwKICAgICAgY29sdW1ucywKICAgICAgc2VsZWN0QWRtaW46IHt9LAogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkKCkKICB9LAoKICBtZXRob2RzOiB7CgogICAgbG9hZCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICBGaW5kQWxsUm9sZSgpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGlmIChyZXMuc3RhdHVzKSB0aGlzLnJvbGVzID0gcmVzLmRhdGEKICAgICAgfSkKICAgICAgRmluZEFsbEFkbWluKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmFkbWlucyA9IHJlcy5kYXRhCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIH0sIDYwMCkKICAgICAgfSkKICAgIH0sCgogICAgc3VibWl0KCkgewogICAgICBTYXZlQWRtaW4odGhpcy5zZWxlY3RBZG1pbikudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5ZGY5L+h5oGv5pu05paw5oiQ5YqfIikKICAgICAgICB0aGlzLmFkZFZpc2libGUgPSBmYWxzZQogICAgICAgIHRoaXMuZW1haWxWaXNpYmxlID0gZmFsc2UKICAgICAgICB0aGlzLnJvbGVzVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgdGhpcy5wYXNzd29yZFZpc2libGUgPSBmYWxzZQogICAgICAgIHRoaXMubG9hZCgpCiAgICAgIH0pCiAgICB9LAoKICAgIHN1Ym1pdFJvbGVzKCkgewogICAgICBsZXQgc3RyID0gJycKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlbGVjdFJvbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGkgPT09IHRoaXMuc2VsZWN0Um9sZXMubGVuZ3RoIC0gMSkgewogICAgICAgICAgc3RyICs9IHRoaXMuc2VsZWN0Um9sZXNbaV0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RyICs9IHRoaXMuc2VsZWN0Um9sZXNbaV0gKyAiOyIKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5zZWxlY3RBZG1pbi5yb2xlcyA9IHN0cgogICAgICB0aGlzLnN1Ym1pdCgpCiAgICB9LAoKICAgIHVwZGF0ZUVtYWlsKGluZGV4KSB7CiAgICAgIHRoaXMuZW1haWxWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLnNlbGVjdEFkbWluID0gdGhpcy5hZG1pbnNbaW5kZXhdCiAgICB9LAoKICAgIHVwZGF0ZVBhc3N3b3JkKGluZGV4KSB7CiAgICAgIHRoaXMucGFzc3dvcmRWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLnNlbGVjdEFkbWluID0gdGhpcy5hZG1pbnNbaW5kZXhdCiAgICB9LAoKICAgIHVwZGF0ZVJvbGVzKGluZGV4KSB7CiAgICAgIHRoaXMucm9sZXNWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLnNlbGVjdEFkbWluID0gdGhpcy5hZG1pbnNbaW5kZXhdCiAgICAgIHRoaXMuc2VsZWN0Um9sZXMgPSB0aGlzLnNlbGVjdEFkbWluLnJvbGVzLnNwbGl0KCI7IikKICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RSb2xlcykKICAgIH0sCgogICAgcmVtb3ZlKGlkKSB7CiAgICAgIERlbGV0ZUFkbWluKGlkKS50aGVuKChyZXMpID0+IHsKICAgICAgICBpZiAocmVzLnN0YXR1cykgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmk43kvZzlkZjliKDpmaTmiJDlip8iKQogICAgICAgIHRoaXMubG9hZCgpCiAgICAgIH0pCiAgICB9LAoKCiAgfSwKCn07Cg=="},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA","file":"Admin.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\n  <div>\n    <a-button size=\"large\" class=\"editable-add-btn\" @click=\"addVisible = true\">\n      <a-icon type=\"plus\"/>\n      Ê∑ªÂä†Êìç‰ΩúÂëò\n    </a-button>\n    <a-table :columns=\"columns\" :data-source=\"admins\" rowKey=\"id\" :loading=\"loading\">\n      <a slot=\"email\" slot-scope=\"email\">{{ email }}</a>\n      <span slot=\"customTitle\"><a-icon type=\"smile-o\"/> ÈÇÆÁÆ±</span>\n      <span slot=\"tags\" slot-scope=\"tags\">\n      <a-tag\n          v-for=\"tag in tags\"\n          :key=\"tag\"\n          :color=\"tag === 'loser' ? 'volcano' : tag.length > 5 ? 'geekblue' : 'green'\"\n      >\n        {{ tag.toUpperCase() }}\n      </a-tag>\n    </span>\n      <span slot=\"action\" slot-scope=\"text, record, index\">\n      <a-dropdown>\n        <a class=\"ant-dropdown-link\" @click=\"e => e.preventDefault()\">Hover me <a-icon type=\"down\"/></a>\n        <a-menu slot=\"overlay\">\n          <a-menu-item>\n          <a-button type=\"link\" @click=\"updateEmail(index)\"><a-icon type=\"mail\"/> ÈÇÆÁÆ±‰øÆÊîπ</a-button>\n        </a-menu-item>\n      <a-menu-item>\n        <a-button type=\"link\" @click=\"updatePassword(index)\"><a-icon type=\"lock\"/> ÂØÜÁ†Å‰øÆÊîπ</a-button>\n      </a-menu-item>\n      <a-menu-item>\n        <a-button type=\"link\" @click=\"updateRoles(index)\"><a-icon type=\"gateway\"/> ÊùÉÈôê‰øÆÊîπ</a-button>\n      </a-menu-item>\n          <a-menu-item>\n        <a-button type=\"link\" @click=\"remove(record.id)\"><a-icon type=\"delete\"/> Âà†Èô§</a-button>\n      </a-menu-item>\n    </a-menu>\n  </a-dropdown>\n    </span>\n    </a-table>\n\n    <a-modal\n        title=\"Ê∑ªÂä†Êìç‰ΩúÂëò\"\n        :visible=\"addVisible\"\n        @ok=\"submit\"\n        @cancel=\"addVisible = false\"\n    >\n      <a-form-model :model=\"selectAdmin\">\n        <a-form-model-item label=\"ÈÇÆÁÆ±\">\n          <a-input v-model=\"selectAdmin.email\"/>\n        </a-form-model-item>\n        <a-form-model-item label=\"ÂØÜÁ†Å\">\n          <a-input v-model=\"selectAdmin.password\"/>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n\n    <a-modal\n        title=\"ÂØÜÁ†Å‰øÆÊîπ\"\n        :visible=\"passwordVisible\"\n        @ok=\"submit\"\n        @cancel=\"passwordVisible = false\"\n    >\n      <a-form-model :model=\"selectAdmin\">\n        <a-form-model-item label=\"ÂØÜÁ†Å\">\n          <a-input v-model=\"selectAdmin.password\"/>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n\n    <a-modal\n        title=\"ÈÇÆÁÆ±‰øÆÊîπ\"\n        :visible=\"emailVisible\"\n        @ok=\"submit\"\n        @cancel=\"emailVisible = false\"\n    >\n      <a-form-model :model=\"selectAdmin\">\n        <a-form-model-item label=\"ÁªëÂÆöÈÇÆÁÆ±\">\n          <a-input v-model=\"selectAdmin.email\"/>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n\n    <a-modal\n        title=\"ÊùÉÈôê‰øÆÊîπ\"\n        width=\"500px\"\n        :visible=\"rolesVisible\"\n        @ok=\"submitRoles\"\n        @cancel=\"rolesVisible = false\"\n    >\n      <a-select\n          v-model=\"selectRoles\"\n          mode=\"multiple\"\n          style=\"width: 100%\"\n          placeholder=\"select one country\"\n          option-label-prop=\"label\"\n      >\n        <a-select-option :value=\"item.value\"\n                         :label=\"item.value\"\n                         v-for=\"(item ,index) in roles\"\n                         :key=\"index\">\n          <span role=\"img\" :aria-label=\"item.value\">üá®üá≥</span>{{ item.value + ' (ÊèèËø∞: ' + item.description + ')' }}\n        </a-select-option>\n      </a-select>\n    </a-modal>\n\n  </div>\n</template>\n<script>\nimport {DeleteAdmin, FindAllAdmin, SaveAdmin} from \"../../api/admin\";\nimport {FindAllRole} from \"../../api/role\";\n\nconst columns = [\n  {\n    dataIndex: 'email',\n    key: 'email',\n    slots: {title: 'customTitle'},\n    scopedSlots: {customRender: 'email'},\n  },\n  {\n    title: 'ÂØÜÁ†Å',\n    dataIndex: 'password',\n    key: 'password',\n  },\n  {\n    title: 'ÊùÉÈôê',\n    dataIndex: 'roles',\n    key: 'roles',\n  },\n  {\n    title: 'Ê∑ªÂä†Êó•Êúü',\n    key: 'createAt',\n    dataIndex: 'createAt',\n    scopedSlots: {customRender: 'createAt'},\n  },\n  {\n    title: 'Action',\n    key: 'action',\n    scopedSlots: {customRender: 'action'},\n  },\n];\n\nexport default {\n  data() {\n    return {\n      roles: [],\n      selectRoles: [],\n      admins: [],\n      loading: false,\n      addVisible: false,\n      emailVisible: false,\n      passwordVisible: false,\n      rolesVisible: false,\n      columns,\n      selectAdmin: {},\n    };\n  },\n\n  mounted() {\n    this.load()\n  },\n\n  methods: {\n\n    load() {\n      this.loading = true\n      FindAllRole().then((res) => {\n        if (res.status) this.roles = res.data\n      })\n      FindAllAdmin().then((res) => {\n        setTimeout(() => {\n          this.admins = res.data\n          this.loading = false\n        }, 600)\n      })\n    },\n\n    submit() {\n      SaveAdmin(this.selectAdmin).then((res) => {\n        if (res.status) this.$message.success(\"Êìç‰ΩúÂëò‰ø°ÊÅØÊõ¥Êñ∞ÊàêÂäü\")\n        this.addVisible = false\n        this.emailVisible = false\n        this.rolesVisible = false\n        this.passwordVisible = false\n        this.load()\n      })\n    },\n\n    submitRoles() {\n      let str = ''\n      for (let i = 0; i < this.selectRoles.length; i++) {\n        if (i === this.selectRoles.length - 1) {\n          str += this.selectRoles[i]\n        } else {\n          str += this.selectRoles[i] + \";\"\n        }\n      }\n      this.selectAdmin.roles = str\n      this.submit()\n    },\n\n    updateEmail(index) {\n      this.emailVisible = true\n      this.selectAdmin = this.admins[index]\n    },\n\n    updatePassword(index) {\n      this.passwordVisible = true\n      this.selectAdmin = this.admins[index]\n    },\n\n    updateRoles(index) {\n      this.rolesVisible = true\n      this.selectAdmin = this.admins[index]\n      this.selectRoles = this.selectAdmin.roles.split(\";\")\n      console.log(this.selectRoles)\n    },\n\n    remove(id) {\n      DeleteAdmin(id).then((res) => {\n        if (res.status) this.$message.success(\"Êìç‰ΩúÂëòÂà†Èô§ÊàêÂäü\")\n        this.load()\n      })\n    },\n\n\n  },\n\n};\n</script>\n\n<style scoped>\n.editable-add-btn {\n  margin-bottom: 15px;\n}\n</style>\n"]}]}