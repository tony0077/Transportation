{"remainingRequest":"D:\\桌面文件\\logistics-master\\logistics-master\\web-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面文件\\logistics-master\\logistics-master\\web-app\\src\\views\\system\\Security.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面文件\\logistics-master\\logistics-master\\web-app\\src\\views\\system\\Security.vue","mtime":1620229219000},{"path":"D:\\桌面文件\\logistics-master\\logistics-master\\web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686845412424},{"path":"D:\\桌面文件\\logistics-master\\logistics-master\\web-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1686845393772}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7U2F2ZUFkbWlufSBmcm9tICJAL2FwaS9hZG1pbiI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkbWluOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmRldGFpbHMsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBlbWFpbFZpc2libGU6IGZhbHNlLAogICAgICBwYXNzd29yZFZpc2libGU6IGZhbHNlLAogICAgICBzcGlubmluZzogZmFsc2UsCiAgICB9CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZCgpCiAgfSwKCgogIG1ldGhvZHM6IHsKCiAgICBsb2FkKCkgewogICAgICB0aGlzLnNwaW5uaW5nID0gdHJ1ZQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnNwaW5uaW5nID0gZmFsc2UKICAgICAgfSwgNTAwKQogICAgfSwKCiAgICBzdWJtaXQoKSB7CiAgICAgIFNhdmVBZG1pbih0aGlzLmFkbWluKS50aGVuKChyZXMpID0+IHsKICAgICAgICBpZiAocmVzLnN0YXR1cykgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLotKblj7fkv6Hmga/kv67mlLnmiJDlip8iKQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1c2VyL3NhdmVMb2dpblVzZXInLCByZXMuZGF0YSkKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHRoaXMuZW1haWxWaXNpYmxlID0gZmFsc2UKICAgICAgdGhpcy5wYXNzd29yZFZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLmxvYWQoKQogICAgfSwKCiAgfQoKfQo="},{"version":3,"sources":["Security.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"Security.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"title\">安全设置</div>\n    <a-spin size=\"large\" :spinning=\"spinning\">\n      <div>\n        <a class=\"item-title\" type=\"link\">账号密码</a>\n        <a-button class=\"btn\" @click=\"passwordVisible = true\" type=\"link\">修改</a-button>\n        <p class=\"des\">账号密码： {{ show ? this.$store.state.user.details.password : '********' }}\n          <a @click=\"show = !show\" style=\"padding-left: 10px\">\n            <a-icon :type=\"!show ? 'eye' : 'eye-invisible' \"/>\n          </a>\n        </p>\n        <a-divider/>\n      </div>\n      <div>\n        <a class=\"item-title\" type=\"link\">绑定邮箱</a>\n        <a-button class=\"btn\" @click=\"emailVisible = true\" type=\"link\">修改</a-button>\n        <p class=\"des\">已绑定邮箱： {{ this.$store.state.user.details.email }}</p>\n        <a-divider/>\n      </div>\n    </a-spin>\n\n    <a-modal\n        title=\"密码修改\"\n        :visible=\"passwordVisible\"\n        @ok=\"submit\"\n        @cancel=\"passwordVisible = false\"\n    >\n      <a-form-model :model=\"admin\">\n        <a-form-model-item label=\"密码\">\n          <a-input v-model=\"admin.password\"/>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n    <a-modal\n        title=\"邮箱修改\"\n        :visible=\"emailVisible\"\n        @ok=\"submit\"\n        @cancel=\"emailVisible = false\"\n    >\n      <a-form-model :model=\"admin\">\n        <a-form-model-item label=\"绑定邮箱\">\n          <a-input v-model=\"admin.email\"/>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport {SaveAdmin} from \"@/api/admin\";\n\nexport default {\n  name: \"Me\",\n\n  data() {\n    return {\n      admin: this.$store.state.user.details,\n      show: false,\n      emailVisible: false,\n      passwordVisible: false,\n      spinning: false,\n    }\n  },\n\n  mounted() {\n    this.load()\n  },\n\n\n  methods: {\n\n    load() {\n      this.spinning = true\n      setTimeout(() => {\n        this.spinning = false\n      }, 500)\n    },\n\n    submit() {\n      SaveAdmin(this.admin).then((res) => {\n        if (res.status) {\n          this.$message.success(\"账号信息修改成功\")\n          this.$store.commit('user/saveLoginUser', res.data)\n        }\n      })\n      this.emailVisible = false\n      this.passwordVisible = false\n      this.load()\n    },\n\n  }\n\n}\n</script>\n\n<style scoped>\n.main {\n  background: #ffffff;\n  padding: 50px 70px;\n}\n\n.title {\n  letter-spacing: 1px;\n  font-size: 20px;\n  font-weight: bolder;\n  color: #000000;\n  margin-bottom: 30px;\n}\n\n.btn {\n  float: right;\n}\n\n.item-title {\n  color: rgba(0, 0, 0, .8);\n  line-height: 35px;\n}\n\n.item-title:hover {\n  color: #5a84fd;\n}\n\n.des {\n  color: rgba(0, 0, 0, .5);\n}\n</style>"]}]}